DEPLOYMENT COMMANDS FOR YOUR SERVER:

# Create the exact directory structure Plesk expects
mkdir -p /ienet.online/dist
mkdir -p /ienet.online/public/assets

# Create the startup file Plesk is looking for
cat > /ienet.online/dist/index.js << 'EOF'
import express from 'express';
import { fileURLToPath } from 'url';
import { dirname, join } from 'path';

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

const app = express();
const PORT = process.env.PORT || 3000;

app.use(express.static(join(__dirname, '..', 'public')));

app.get('/api/health', (req, res) => {
  res.json({ status: 'IeNet React App Running', timestamp: new Date() });
});

app.get('*', (req, res) => {
  const indexPath = join(__dirname, '..', 'public', 'index.html');
  res.sendFile(indexPath);
});

app.listen(PORT, '0.0.0.0', () => {
  console.log(`IeNet React Application started on port ${PORT}`);
});
EOF

# Create package.json with correct configuration
cat > /ienet.online/package.json << 'EOF'
{
  "name": "ienet-production",
  "version": "1.0.0",
  "type": "module",
  "main": "dist/index.js",
  "scripts": {
    "start": "node dist/index.js"
  },
  "dependencies": {
    "express": "^4.18.2"
  }
}
EOF

# Create React application entry point
cat > /ienet.online/public/index.html << 'EOF'
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>IeNet - India Espectacular | Leading Professional IT Services Platform</title>
    <meta name="description" content="Leading Professional IT Services Platform offering Website Development, Cloud Infrastructure, Digital Marketing, E-commerce Solutions, Mobile Apps, and IT Consulting services." />
    <script type="module" crossorigin src="/assets/index-BOus7yXH.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-5acz5IyP.css">
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
EOF

# Install dependencies and start application
cd /ienet.online
npm install
node dist/index.js